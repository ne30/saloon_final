!function(x){var F={init:function(){x(document).ready(F.ready),F.bindUIActions()},ready:function(){x(".everest-form").each(function(){F.conditionalLogicAction(x(this))})},bindUIActions:function(){x(document).on("change keyup",".everest-forms-trigger-conditional input, .everest-forms-trigger-conditional select, .everest-forms-trigger-conditional textarea",function(){F.conditionalLogicAction(x(this))})},conditionalLogicAction:function(e){var t=x(e).closest(".everest-form"),i=t.attr("data-formid"),n=t.find(".evf-frontend-row").find(".evf-frontend-grid").find(".input-text");e=t.find(".evf-submit-container ").find(".evf-submit")[0];n.push(e);var o={conditional_rules:[]};n.each(function(e,t){var i=x(this).attr("id");void 0!==x(this).attr("conditional_rules")&&""!=x(this).attr("conditional_rules")&&!0===F.IsJsonString(x(this).attr("conditional_rules"))&&(o.conditional_rules[i]=JSON.parse(x(this).attr("conditional_rules")))});var r=o.conditional_rules;for(var a in r){var d=r[a].conditionals,c=r[a].conditional_option,l=r[a].required,s=!1;for(var f in d){var v=d[f],u=!0;for(var h in v){var g,b=v[h],m=!1,p="";if(b.field){var _=x('[conditional_id="'+v[h].field+'"]');if(0!==_.length){var k=_.get(0).type;if("empty"===b.operator||"not_empty"===b.operator)b.value="","radio"===k||"checkbox"===k||"payment-multiple"===k||"payment-checkbox"===k||"rating"===k||"likert"===k||"scale-rating"===k?($check=t.find("#evf-"+i+"-field_"+v[h].field+"-container input:checked"),$check.length&&(p=!0)):p=(p=t.find("#evf-"+i+"-field_"+v[h].field).val())||"";else if("radio"==k||"checkbox"==k){var y=t.find("#evf-"+i+"-field_"+v[h].field+"-container input:checked");y.length&&x.each(y,function(){var e=x(this).val();"checkbox"===k?b.value===e&&(p=e):p=e})}else p="tel"===k?_.val().replace(/[()-\s]/g,""):_.val();switch(g=v[h].value,b.operator){case"is":m=p===g;break;case"is_not":m=p!==g;break;case"empty":m=0===p.length;break;case"not_empty":m=0<p.length;break;case"greater_than":m=""!==(p=p.replace(/[^0-9.]/g,""))&&F.convertToFlot(p)>F.convertToFlot(g);break;case"less_than":m=""!==(p=p.replace(/[^0-9.]/g,""))&&F.convertToFlot(p)<F.convertToFlot(g)}if(!m){u=!1;break}}}}u&&(s=!0)}var w=x("form.everest-form").find(".evf-submit-container ").find('button[id="'+a+'"]');x(".evf-field-container").find(".everest-forms-part").length?0<w.length&&'""'!==w.attr("conditional_rules")&&setTimeout(function(){s&&"disable"===c?w.triggerHandler("evf-conditional-logic-submit","disable"):s&&"hide"===c||!s&&"show"===c?w.triggerHandler("evf-conditional-logic-submit","hide"):w.triggerHandler("evf-conditional-logic-submit","show")},1):0<w.length&&'""'!==w.attr("conditional_rules")&&(s&&"disable"===c?w.prop("disabled",!0):s&&"hide"===c||!s&&"show"===c?(w.prop("disabled",!1),w.closest(".evf-submit-container").hide(),w.closest(".evf-submit-container").find("button").attr("disabled","disabled")):(w.prop("disabled",!1),w.closest(".evf-submit-container").show(),w.closest(".evf-submit-container").find("button").removeAttr("disabled")));var A=x("form.everest-form").find(".evf-frontend-row").find(".evf-frontend-grid").find('.input-text[id="'+a+'"]');s&&"hide"===c||!s&&"hide"!==c?(x(document.body).trigger("conditional_hide",[A.closest(".evf-field")]),A.closest(".evf-field").hide(),A.closest(".evf-field").find("input, select").attr("disabled","disabled"),A.removeAttr("required")):(x(document.body).trigger("conditional_show",[A.closest(".evf-field")]),A.closest(".evf-field").show(),A.closest(".evf-field").find("input, select").removeAttr("disabled"),"1"===l&&A.attr("required","required"))}},IsJsonString:function(e){try{JSON.parse(e)}catch(t){return!1}return!0},convertToFlot:function(e){return parseFloat(e)||0}};F.init()}(jQuery);